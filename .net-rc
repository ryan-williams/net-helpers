
export nh="$(dirname "${BASH_SOURCE[0]}")/net-helpers"

alias lsp=ps-port
alias lp=ps-port
alias psp=ps-port
alias chp=ncz
alias check-port=ncz

alias ifa="ifconfig -a"
alias ifal="ifconfig -a | less"

alias my-ip="curl ifconfig\.me/ip"

alias psc=ps-cmd
alias pgc="ping google.com"

alias psg="ps aux | grep"
alias psgi="ps aux | grep -i"

alias tp="htop --sort-key cpu"
export UNAME="$(uname)"

defn ith ip-to-hostname
defn pi parse-ip

alias wg=wget
alias unroll-url="curl -Ls -o /dev/null -w '%{url_effective}\n'"
defn ur unroll-url

telnet_local_port() {
  if [ $# -eq 2 ]; then
    opt="$1"
    shift
    port="$1"
    shift
    if [ "$opt" -eq "-1" ]; then
      host="127.0.0.1"
    elif [ "$opt" -eq "-0" ]; then
      host="0.0.0.0"
    else
      echo "Usage: $0 [-0|-1] <port>" >&2
      return 1
    fi
  elif [ $# -eq 1 ]; then
    host=localhost
    port="$1"
    shift
  else
    echo "Usage: $0 [-0|-1] <port>" >&2
    return 1
  fi
  telnet "$host" "$port"
}
export -f telnet_local_port

defn tlp telnet_local_port
defn tnp telnet_local_port
